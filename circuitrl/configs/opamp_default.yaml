# Two-Stage Op-Amp Circuit Sizing Configuration

# Device parameter bounds [min, max] in SI units
parameters:
  W1:  # NMOS input pair width
    min: 1.0e-6
    max: 100.0e-6
    default: 10.0e-6
  L1:  # NMOS input pair length
    min: 0.18e-6
    max: 5.0e-6
    default: 0.5e-6
  W3:  # PMOS load width
    min: 1.0e-6
    max: 200.0e-6
    default: 20.0e-6
  L3:  # PMOS load length
    min: 0.18e-6
    max: 5.0e-6
    default: 0.5e-6
  W5:  # Tail current source width
    min: 1.0e-6
    max: 100.0e-6
    default: 10.0e-6
  L5:  # Tail current source length
    min: 0.18e-6
    max: 5.0e-6
    default: 0.5e-6
  W7:  # Second stage NMOS width
    min: 1.0e-6
    max: 200.0e-6
    default: 1.0e-6
  L7:  # Second stage NMOS length
    min: 0.18e-6
    max: 5.0e-6
    default: 2.0e-6
  Cc:  # Compensation capacitor
    min: 0.1e-12
    max: 10.0e-12
    default: 1.0e-12
  Ib:  # Bias current
    min: 1.0e-6
    max: 100.0e-6
    default: 10.0e-6

# Target specifications
target_specs:
  gain_db:
    value: 60.0
    tolerance: 2.0    # dB
  ugbw:
    value: 50.0e6     # 50 MHz unity-gain bandwidth
    tolerance: 5.0e6
  phase_margin:
    value: 60.0       # degrees
    tolerance: 5.0
  power:
    value: 1.0e-3     # 1 mW max
    tolerance: 0.1e-3

# Environment settings
env:
  max_steps: 50
  action_step_size: 0.05  # fraction of parameter range per discrete action
  sim_timeout: 30         # seconds

# RL hyperparameters
ppo:
  learning_rate: 3.0e-4
  n_steps: 2048
  batch_size: 64
  n_epochs: 10
  gamma: 0.99
  total_timesteps: 100000

sac:
  learning_rate: 3.0e-4
  batch_size: 256
  buffer_size: 100000
  learning_starts: 1000
  gamma: 0.99
  total_timesteps: 100000

mbpo:
  learning_rate: 3.0e-4
  model_hidden_sizes: [256, 256]
  model_ensemble_size: 5
  rollout_length: 1
  real_ratio: 0.05
  total_timesteps: 50000
