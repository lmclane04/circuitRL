# Common-Source Amplifier

netlist: ../envs/cs_amp_template.sp

parameters:
  W1:  # NMOS width
    min: 1.0e-6
    max: 50.0e-6
    default: 25.0e-6      # midpoint of range (index 24 / 49 levels)
    step: 1.0e-6          # 1µm increments → 50 levels
  L1:  # NMOS length
    min: 0.18e-6
    max: 5.0e-6
    default: 2.5e-6       # midpoint of range (index ~23 / 49 levels)
    step: 0.1e-6           # 100nm increments → 49 levels
  RD:  # Drain resistor (ohms)
    min: 1000
    max: 50000
    default: 25000         # midpoint of range (index 48 / 98 levels)
    step: 500               # 500Ω increments → 98 levels

# Spec pool: run `python generate_specs.py --config circuitrl/configs/cs_amp.yaml --n 500`
# to create this file before training.
target_spec_file: cs_amp_specs_pool.json

target_specs:
  gain_db:
    tolerance: 2.0
    direction: equal      
  bandwidth:
    tolerance: 10000000.0
    direction: equal 
  power:
    tolerance: 0.05e-3
    direction: equal 


env:
  max_steps: 50
  sim_timeout: 10
  randomize_start: false

ppo:
  learning_rate: 3.0e-4
  n_steps: 256
  batch_size: 64
  n_epochs: 10
  gamma: 0.99
  total_timesteps: 100000
